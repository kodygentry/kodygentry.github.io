<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kody Gentry Portfolio</title>
    <!-- Font imports for Dark Desert Modernism aesthetic -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      /* Card populate-in animation */
      @keyframes card-pop-in {
        0% {
          opacity: 0;
          transform: translateY(32px) scale(0.98);
          filter: blur(6px);
        }
        80% {
          opacity: 1;
          transform: translateY(-4px) scale(1.01);
          filter: blur(0px);
        }
        100% {
          opacity: 1;
          transform: none;
          filter: none;
        }
      }
      .card-pop-in {
        animation: card-pop-in 0.7s cubic-bezier(0.22, 0.68, 0.43, 1.01) both;
      }
      /* Tab content fade and slide animations */
      @keyframes tab-fade-in {
        0% {
          opacity: 0;
          transform: translateY(12px);
          filter: blur(4px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
          filter: blur(0);
        }
      }
      @keyframes tab-fade-out {
        0% {
          opacity: 1;
          transform: translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateY(-12px);
          filter: blur(4px);
        }
      }
      .tab-content {
        animation: tab-fade-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }
      .tab-content.fade-out {
        animation: tab-fade-out 0.3s cubic-bezier(0.3, 0, 0.8, 0.15) forwards;
      }
      /* Tab button active animation */
      @keyframes tab-bg-expand {
        0% {
          background: rgba(74, 90, 127, 0.2);
        }
        50% {
          background: rgba(74, 90, 127, 0.35);
        }
        100% {
          background: rgba(74, 90, 127, 0.2);
        }
      }
      .tabs button.active {
        animation: tab-bg-expand 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }
      /* Reset styles and base typography */
      *, *::before, *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI',
          sans-serif;
        color: #f0f0f0;
        background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 50%, #141820 100%);
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
        font-weight: 400;
        letter-spacing: 0.4px;
        line-height: 1.6;
      }

      /* Dot-dither starfield */
      body::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: radial-gradient(rgba(240, 240, 240, 0.08) 1px, transparent 1px);
        background-size: 4px 4px;
        opacity: 0.5;
        mix-blend-mode: screen;
        pointer-events: none;
      }
      /* Horizon grid (reminiscent of retro CRT floor) */
      body::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        height: 40vh;
        perspective: 800px;
        pointer-events: none;
      }
      body::after::before {
        content: '';
        position: absolute;
        inset: 0;
        transform-origin: bottom;
        transform: rotateX(60deg);
        background-image: linear-gradient(rgba(240, 240, 240, 0.04) 1px, transparent 1px),
          linear-gradient(90deg, rgba(240, 240, 240, 0.04) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
      }
      /* Layout container */
      .container {
        max-width: 960px;
        margin: 0 auto;
        padding: 2rem 1rem 4rem;
      }
      /* Hero card styling */
      .hero-card {
        position: relative;
        margin: 0 auto 2rem;
        padding: 2rem;
        border-radius: 1.5rem;
        border: 2px solid #4a5a7f;
        background: linear-gradient(
          135deg,
          rgba(26, 31, 46, 0.95) 0%,
          rgba(32, 40, 60, 0.98) 100%
        );
        box-shadow: 0 8px 32px rgba(74, 90, 127, 0.1), inset 0 1px 0 rgba(240, 240, 240, 0.1);
        overflow: hidden;
      }
      .hero-card-animated-bg {
        position: absolute;
        inset: 0;
        z-index: 0;
        border-radius: inherit;
        pointer-events: none;
        background: linear-gradient(
          120deg,
          #38bdf8 0%,
          #64748b 40%,
          #e0e7ef 80%,
          #ffffff 100%
        );
        opacity: 0.38;
        filter: blur(32px) brightness(1.2) saturate(1.1);
        animation: wave-gradient 3.5s cubic-bezier(0.4, 0.2, 0.6, 0.8) infinite alternate;
        background-size: 200% 200%;
      }
      .hero-card-animated-bg::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        z-index: 1;
        opacity: 1;
        mix-blend-mode: normal;
        background-image: url('https://www.transparenttextures.com/patterns/noise.png'),
          url('https://www.transparenttextures.com/patterns/noise.png'),
          url('https://www.transparenttextures.com/patterns/noise.png'),
          url('https://www.transparenttextures.com/patterns/noise.png');
        background-size: 16px 16px, 8px 8px, 4px 4px, 2px 2px;
        background-blend-mode: normal, normal, normal, normal;
      }
      @keyframes wave-gradient {
        0% {
          background-position: 0% 50%;
        }
        33% {
          background-position: 100% 30%;
        }
        66% {
          background-position: 50% 100%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
      .hero-card::before {
        content: '';
        position: absolute;
        inset: -4px;
        border-radius: inherit;
        background: linear-gradient(
          135deg,
          rgba(6, 182, 212, 0.4),
          rgba(79, 70, 229, 0.4),
          rgba(99, 102, 241, 0.4)
        );
        z-index: -1;
        filter: blur(20px);
      }
      .hero-icons {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      .hero-icons div {
        width: 2.5rem;
        height: 2.5rem;
        display: grid;
        place-items: center;
        border-radius: 0.75rem;
        border: 1px solid rgba(74, 90, 127, 0.35);
        background: rgba(74, 90, 127, 0.15);
        backdrop-filter: blur(10px) saturate(1.2);
        box-shadow: 0 2px 8px rgba(74, 90, 127, 0.1);
      }
      .hero-card h1 {
        font-size: clamp(2.5rem, 10vw, 4.5rem);
        font-weight: 700;
        color: #ffffff;
        letter-spacing: -1px;
        text-align: center;
        font-family: 'Space Grotesk', sans-serif;
        line-height: 1;
        text-transform: uppercase;
        margin-bottom: 0.5rem;
      }
      .hero-card p {
        text-align: center;
        margin-top: 0.5rem;
        color: #c0c0c0;
        font-weight: 400;
        letter-spacing: 1px;
        text-transform: uppercase;
        font-size: 0.8rem;
      }
      .hero-links {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1.5rem;
      }
      .hero-links a {
        padding: 0.5rem 1.25rem;
        border-radius: 9999px;
        background: rgba(74, 90, 127, 0.15);
        color: #ffffff;
        text-decoration: none;
        border: 1.5px solid #4a5a7f;
        backdrop-filter: blur(8px) saturate(1.2);
        box-shadow: 0 2px 8px rgba(74, 90, 127, 0.08);
        transition: background 0.2s, transform 0.2s;
        font-weight: 600;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        font-size: 0.75rem;
      }
      .hero-links a:hover {
        background: rgba(74, 90, 127, 0.25);
        transform: translateY(-2px);
      }
      /* Tabs bar */
      .tabs {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        margin-bottom: 2rem;
        border-radius: 1rem;
        background: rgba(74, 90, 127, 0.08);
        overflow: hidden;
        backdrop-filter: blur(8px) saturate(1.2);
        box-shadow: 0 2px 8px rgba(74, 90, 127, 0.08);
        border: 1px solid rgba(74, 90, 127, 0.15);
      }
      .tabs button {
        padding: 0.75rem;
        color: #e0e0e0;
        background: transparent;
        border: none;
        font-size: 0.75rem;
        cursor: pointer;
        transition: background 0.2s, color 0.2s;
        border-right: 1px solid rgba(74, 90, 127, 0.1);
        backdrop-filter: none;
        font-weight: 600;
        letter-spacing: 0.7px;
        text-transform: uppercase;
      }
      .tabs button:last-child {
        border-right: none;
      }
      .tabs button.active {
        background: rgba(74, 90, 127, 0.2);
        color: #ffffff;
        font-weight: 700;
        backdrop-filter: blur(2px);
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
      /* Accordion styling */
      .accordion {
        border-top: 1px solid rgba(74, 90, 127, 0.15);
      }
      .accordion details {
        border-bottom: 1px solid rgba(74, 90, 127, 0.15);
      }
      .accordion summary {
        display: flex;
        justify-content: space-between;
        padding: 1rem;
        cursor: pointer;
        color: #a8bce0;
        font-weight: 700;
        transition: background 0.2s;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        font-size: 0.75rem;
        background: rgba(15, 20, 25, 0.6);
      }
      .accordion summary:hover {
        background: rgba(74, 90, 127, 0.2);
      }
      .accordion details[open] summary {
        background: rgba(74, 90, 127, 0.25);
      }
      .accordion details summary::after {
        content: '\25be';
        transition: transform 0.3s;
      }
      .accordion details[open] summary::after {
        transform: rotate(180deg);
      }
      /* Grid for cards */
      .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }
      .project-card,
      .game-card {
        position: relative;
        border-radius: 1rem;
        border: 1.5px solid rgba(74, 90, 127, 0.2);
        background: linear-gradient(
          135deg,
          rgba(26, 31, 46, 0.7) 0%,
          rgba(32, 40, 60, 0.7) 100%
        );
        padding: 1rem;
        box-shadow: 0 4px 12px rgba(74, 90, 127, 0.08), inset 0 1px 0 rgba(240, 240, 240, 0.1);
        transition: transform 0.15s, box-shadow 0.2s, background 0.2s, border 0.2s;
        overflow: hidden;
      }
      .project-card-highlight {
        border: 2px solid #4a5a7f;
        background: linear-gradient(
          120deg,
          rgba(74, 90, 127, 0.15) 0%,
          rgba(74, 90, 127, 0.1) 100%
        );
        box-shadow: 0 0 0 1px #4a5a7f1a, 0 4px 16px rgba(74, 90, 127, 0.12);
      }
      .project-card::before,
      .game-card::before {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: inherit;
        z-index: 1;
        opacity: 0;
        pointer-events: none;
        background: linear-gradient(
          120deg,
          #38bdf8 0%,
          #64748b 40%,
          #e0e7ef 80%,
          #ffffff 100%
        );
        filter: blur(8px) brightness(1.05) saturate(1.05);
        background-size: 200% 200%;
        transition: opacity 0.25s;
      }
      .project-card:hover::before,
      .game-card:hover::before {
        opacity: 0.45;
        animation: wave-gradient 3.5s cubic-bezier(0.4, 0.2, 0.6, 0.8) infinite alternate;
      }
      .project-card:hover,
      .game-card:hover {
        transform: translateY(-3px);
        z-index: 2;
        border-color: #4a5a7f;
        background: linear-gradient(
          135deg,
          rgba(40, 50, 75, 0.9) 0%,
          rgba(50, 65, 100, 0.9) 100%
        );
      }
      .project-card h3,
      .game-card h3 {
        font-size: 1rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: #ffffff;
        transition: color 0.2s;
        font-family: 'Space Grotesk', sans-serif;
        letter-spacing: 0.3px;
        text-transform: uppercase;
      }
      .project-card p,
      .game-card p {
        font-size: 0.8rem;
        color: #c0c0c0;
        margin-bottom: 0.5rem;
        transition: color 0.2s;
        font-weight: 400;
        line-height: 1.6;
        letter-spacing: 0.2px;
      }
      .project-card:hover h3,
      .game-card:hover h3,
      .project-card:hover p,
      .game-card:hover p,
      .project-card:hover .project-meta,
      .game-card:hover .project-meta {
        color: #ffffff !important;
      }
      .project-meta {
        font-size: 0.75rem;
        display: flex;
        gap: 0.75rem;
        margin-top: 0.5rem;
      }
      .project-meta span {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
      }
      .project-meta a {
        color: #a8bce0;
        text-decoration: underline;
        font-weight: 600;
        letter-spacing: 0.2px;
      }

      /* Welcome screen overlay */
      #welcome-screen {
        position: fixed;
        inset: 0;
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top, #1f2933 0%, #050816 55%, #020617 100%);
        color: #e5e7eb;
        overflow: hidden;
        opacity: 1;
        transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.2, 1.6, 0.4, 1.1);
      }
      #welcome-screen::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: radial-gradient(rgba(248, 250, 252, 0.12) 1px, transparent 1px);
        background-size: 4px 4px;
        mix-blend-mode: screen;
        opacity: 0.7;
        pointer-events: none;
      }
      .welcome-shell {
        position: relative;
        display: inline-flex;
        flex-direction: column;
        align-items: stretch;
        gap: 0.75rem;
        animation: welcome-shell-pop 1.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }
      .welcome-text {
        font-size: clamp(1.8rem, 9vw, 4rem);
        letter-spacing: clamp(0.2em, 1vw, 0.4em);
        text-transform: uppercase;
        text-align: center;
        color: #f9fafb;
        font-weight: 700;
        animation: welcome-text-flicker 3.6s ease-in-out 0.4s infinite;
        padding: 0 1rem;
        word-spacing: 100vw;
      }
      .welcome-bar {
        position: relative;
        width: 100%;
        height: 3px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.35);
        overflow: hidden;
      }
      .welcome-bar-fill {
        position: absolute;
        inset: 0;
        transform-origin: left;
        transform: scaleX(0);
        background: #38bdf8;
        box-shadow: 0 0 12px rgba(56, 189, 248, 0.6), 0 0 24px rgba(56, 189, 248, 0.3);
        animation: welcome-bar-fill 2.8s cubic-bezier(0.65, 0, 0.35, 1) forwards, 
                   welcome-bar-pulse 1.4s ease-in-out infinite;
      }
      #welcome-screen.welcome-out {
        opacity: 0;
        transform: scale(1.2) translateY(-32px) rotate(1deg);
      }
      #welcome-screen.welcome-out .welcome-text {
        transform: scale(1.35) translateY(-10px);
      }
      @keyframes welcome-shell-pop {
        0% {
          opacity: 0;
          transform: scale(1.35) translateY(18px);
        }
        60% {
          opacity: 1;
          transform: scale(0.88) translateY(-6px);
        }
        100% {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }
      @keyframes welcome-text-flicker {
        0%, 82%, 100% {
          text-shadow: 0 0 0 rgba(248, 250, 252, 0.2);
        }
        84% {
          text-shadow: 0 0 8px rgba(248, 250, 252, 0.7);
        }
        88% {
          text-shadow: 0 0 2px rgba(248, 250, 252, 0.3);
        }
        92% {
          text-shadow: 0 0 14px rgba(248, 250, 252, 0.85);
        }
      }
      @keyframes welcome-bar-fill {
        0% {
          transform: scaleX(0);
        }
        100% {
          transform: scaleX(1);
        }
      }
      @keyframes welcome-bar-pulse {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.7;
          filter: brightness(1.3);
        }
      }
      /* WIP Card Styles */
      .wip-card {
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }
      .wip-card::after {
        content: 'üëÅÔ∏è View Details';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(168, 85, 240, 0.9);
        color: white;
        padding: 0.5rem;
        text-align: center;
        font-size: 0.85rem;
        font-weight: 600;
        transform: translateY(100%);
        transition: transform 0.3s;
      }
      .wip-card:hover::after {
        transform: translateY(0);
      }
      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.85);
        z-index: 1000;
        padding: 2rem;
        overflow-y: auto;
      }
      .modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }
      @media (max-width: 768px) {
        .modal {
          padding: 1rem;
          align-items: flex-start;
        }
        .modal.active {
          align-items: flex-start;
          padding-top: 2rem;
        }
        .modal-content {
          margin: auto;
          width: 100%;
          max-width: 95%;
        }
      }
      .modal-content {
        background: rgba(26, 31, 46, 0.98);
        border: 2px solid #4a5a7f;
        border-radius: 1rem;
        padding: 2rem;
        max-width: 800px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
      }
      .modal-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: rgba(255, 107, 107, 0.2);
        border: 2px solid #ff6b6b;
        color: #ff6b6b;
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.5rem;
        font-weight: bold;
        transition: all 0.2s;
      }
      .modal-close:hover {
        background: rgba(255, 107, 107, 0.3);
        transform: rotate(90deg);
      }
      .modal-title {
        color: #38bdf8;
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }
      .modal-timeframe {
        color: #a855f7;
        font-size: 0.9rem;
        margin-bottom: 1rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      .modal-description {
        color: #c0c0c0;
        line-height: 1.6;
        margin-bottom: 2rem;
      }
      /* Carousel Styles */
      .carousel {
        position: relative;
        width: 100%;
        margin-bottom: 2rem;
      }
      .carousel-container {
        width: 100%;
        overflow: hidden;
        border-radius: 0.5rem;
        border: 2px solid #4a5a7f;
        background: rgba(15, 20, 25, 0.5);
      }
      .carousel-track {
        display: flex;
        transition: transform 0.3s ease;
      }
      .carousel-slide {
        min-width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .carousel-slide img {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: contain;
      }
      .carousel-controls {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1rem;
      }
      .carousel-btn {
        background: rgba(56, 189, 248, 0.2);
        border: 2px solid #38bdf8;
        color: #38bdf8;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
        font-family: 'Space Grotesk', sans-serif;
        font-weight: 600;
      }
      .carousel-btn:hover {
        background: rgba(56, 189, 248, 0.3);
        transform: translateY(-2px);
      }
      .carousel-indicators {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .carousel-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(74, 90, 127, 0.5);
        cursor: pointer;
        transition: all 0.2s;
      }
      .carousel-dot.active {
        background: #38bdf8;
        transform: scale(1.3);
      }
      /* Art Gallery Styles */
      .art-section {
        margin-bottom: 2rem;
      }
      .art-card {
        background: rgba(26, 31, 46, 0.6);
        border: 2px solid #4a5a7f;
        border-radius: 1rem;
        padding: 0;
        overflow: hidden;
        transition: all 0.3s;
        cursor: pointer;
      }
      .art-card:hover {
        transform: translateY(-5px);
        border-color: #38bdf8;
        box-shadow: 0 8px 25px rgba(56, 189, 248, 0.2);
      }
      .art-card-image {
        width: 100%;
        height: 250px;
        object-fit: cover;
        background: rgba(15, 20, 25, 0.5);
      }
      .art-card-content {
        padding: 1rem;
      }
      .art-card-title {
        color: #38bdf8;
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .art-card-description {
        color: #c0c0c0;
        font-size: 0.9rem;
        line-height: 1.4;
      }
      .sketchfab-embed {
        width: 100%;
        height: 300px;
        border: none;
        border-radius: 0.5rem;
      }
      .art-card.no-glow:hover::before {
        opacity: 0 !important;
        animation: none !important;
      }
      /* Image Zoom Modal */
      .image-zoom-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 2000;
        cursor: zoom-out;
        animation: fadeIn 0.2s;
      }
      .image-zoom-modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }
      .image-zoom-modal img,
      .image-zoom-modal video {
        max-width: 95%;
        max-height: 95%;
        object-fit: contain;
        border-radius: 0.5rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      /* Mobile responsive styles */
      @media (max-width: 768px) {
        .hero-card {
          padding: 1.5rem 1rem;
          margin: 0 auto 1.5rem;
          border-radius: 1rem;
        }
        .hero-icons {
          gap: 0.75rem;
          margin-bottom: 0.75rem;
        }
        .hero-icons div {
          width: 2rem;
          height: 2rem;
        }
        .hero-icons div i {
          font-size: 1rem !important;
        }
        .hero-card h1 {
          font-size: clamp(2rem, 8vw, 3rem);
          margin-bottom: 0.25rem;
        }
        .hero-card p {
          font-size: 0.75rem;
          margin-top: 0.25rem;
        }
        .hero-links {
          flex-wrap: wrap;
          gap: 0.75rem;
          margin-top: 1rem;
        }
        .hero-links a {
          padding: 0.4rem 1rem;
          font-size: 0.7rem;
        }
        .welcome-shell {
          padding: 0 1rem;
        }
        .welcome-bar {
          max-width: 90vw;
          min-width: 200px;
        }
      }
      @media (max-width: 480px) {
        .hero-card {
          padding: 1rem;
          margin: 0 auto 1rem;
        }
        .hero-icons {
          gap: 0.5rem;
          margin-bottom: 0.5rem;
        }
        .hero-icons div {
          width: 1.75rem;
          height: 1.75rem;
        }
        .hero-icons div i {
          font-size: 0.9rem !important;
        }
        .hero-card h1 {
          font-size: clamp(1.5rem, 6vw, 2.2rem);
          margin-bottom: 0.2rem;
          letter-spacing: -0.5px;
        }
        .hero-card p {
          font-size: 0.7rem;
          margin-top: 0.15rem;
          letter-spacing: 0.3px;
        }
        .hero-links {
          flex-direction: column;
          gap: 0.5rem;
          margin-top: 0.75rem;
        }
        .hero-links a {
          width: 100%;
          padding: 0.4rem 0.8rem;
          font-size: 0.65rem;
          text-align: center;
        }
        .welcome-text {
          font-size: clamp(1.5rem, 7vw, 2.5rem);
          letter-spacing: clamp(0.15em, 0.8vw, 0.3em);
        }
        .welcome-bar {
          max-width: 80vw;
          min-width: 150px;
          height: 2px;
        }
        body {
          padding: 0;
        }
      }
    </style>
  </head>
  <body class="no-scroll">
    <!-- Welcome screen overlay -->
    <div id="welcome-screen">
      <div class="welcome-shell">
        <div class="welcome-text">WELCOME</div>
        <div class="welcome-bar"><div class="welcome-bar-fill"></div></div>
      </div>
    </div>

    <main class="container">
      <!-- Hero section -->
      <section class="hero-card">
        <div class="hero-card-animated-bg"></div>
        <div class="hero-icons">
          <div>
            <i class="fa-solid fa-gamepad" style="font-size: 1.3rem; color: #a8bce0"></i>
          </div>
          <div>
            <i class="fa-solid fa-code" style="font-size: 1.3rem; color: #a8bce0"></i>
          </div>
          <div>
            <i class="fa-solid fa-palette" style="font-size: 1.3rem; color: #a8bce0"></i>
          </div>
        </div>
        <h1>Kody Gentry</h1>
        <p>Software ¬∑ Game Dev ¬∑ Art</p>
        <p>Founder of Chum Studios</p>
        <div class="hero-links">
          <a href="https://github.com/kodygentry" target="_blank" rel="noopener">GitHub</a>
          <a href="#" id="emailBtn" onclick="copyEmail(event)">Email</a>
          <a href="static/assets/icons/KodyGentryResume.pdf" download>Resume</a>
        </div>
      </section>
      <!-- Tabs bar -->
      <nav class="tabs" role="tablist">
        <button id="tab-software" class="active" role="tab" aria-selected="true">
          Software
        </button>
        <button id="tab-games" role="tab" aria-selected="false">Games</button>
        <button id="tab-art" role="tab" aria-selected="false">3D / Art</button>
      </nav>
      <!-- Tab contents -->
      <section
        id="content-software"
        class="tab-content active"
        aria-labelledby="tab-software"
      >
        <div class="accordion">
          <details>
            <summary>Interactive Demos</summary>
            <div class="card-grid">
              <div class="project-card">
                <h3>Tic Tac Toe</h3>
                <p>Classic game with AI opponent using Minimax algorithm. Play against an unbeatable computer opponent.</p>
                <div class="project-meta">
                  <a href="demos/tictactoe.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
              <div class="project-card">
                <h3>Dice Roller with Distribution</h3>
                <p>Roll virtual dice and visualize probability distributions. Supports multiple dice types (d4, d6, d8, d12, d20).</p>
                <div class="project-meta">
                  <a href="demos/dice-roller.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
              <div class="project-card">
                <h3>Dither Generator Tool</h3>
                <p>Apply retro dithering effects to images. Explore different dithering algorithms for pixel art aesthetics.</p>
                <div class="project-meta">
                  <a href="demos/dither.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
              <div class="project-card">
                <h3>Noise Generator</h3>
                <p>Generate Perlin and Simplex noise patterns for procedural generation. Essential for game development and terrain creation.</p>
                <div class="project-meta">
                  <a href="demos/noise.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
              <div class="project-card">
                <h3>Random Art Inspo Generator</h3>
                <p>Get creative prompts and art inspiration. Generates random themes, color schemes, and style combinations.</p>
                <div class="project-meta">
                  <a href="demos/art-inspo.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
              <div class="project-card">
                <h3>Color Palette Generator</h3>
                <p>Generate harmonious color palettes from a base color. Creates complementary, triadic, and analogous schemes.</p>
                <div class="project-meta">
                  <a href="demos/color-palette.html" class="demo-button">Launch Demo</a>
                </div>
              </div>
            </div>
          </details>
          <details>
            <summary>Side projects</summary>
            <div class="card-grid" id="side-projects"></div>
          </details>
          <details>
            <summary>School projects</summary>
            <div class="card-grid" id="school-projects"></div>
          </details>
          <details>
            <summary>Game dev (code repos)</summary>
            <div class="card-grid" id="game-projects"></div>
          </details>
        </div>
      </section>
      <section id="content-games" class="tab-content" aria-labelledby="tab-games">
        <div class="accordion">
          <details id="released-games">
            <summary>Released Games</summary>
            <div class="card-grid" id="game-cards"></div>
          </details>
          
          <details id="wip">
            <summary>Work in Progress / Abandoned Games</summary>
            <div class="card-grid" id="wip-cards">
              <!-- WIP cards will be generated here -->
            </div>
          </details>
        </div>

        <!-- WIP Modal -->
        <div id="wip-modal" class="modal">
          <div class="modal-content">
            <div class="modal-close" onclick="closeWIPModal()">√ó</div>
            <h2 class="modal-title" id="modal-title"></h2>
            <div class="modal-timeframe" id="modal-timeframe"></div>
            <p class="modal-description" id="modal-description"></p>
            <div class="carousel">
              <div class="carousel-container">
                <div class="carousel-track" id="carousel-track"></div>
              </div>
              <div class="carousel-controls">
                <button class="carousel-btn" onclick="prevSlide()">‚Üê Previous</button>
                <button class="carousel-btn" onclick="nextSlide()">Next ‚Üí</button>
              </div>
              <div class="carousel-indicators" id="carousel-indicators"></div>
            </div>
          </div>
        </div>
      </section>
      <section id="content-art" class="tab-content" aria-labelledby="tab-art">
        <div class="accordion">
          <details id="3d-models">
            <summary>3D Models & Renders</summary>
            <div class="card-grid" id="art-3d-models"></div>
          </details>
          <details>
            <summary>Traditional Art & Sketches</summary>
            <div class="card-grid" id="art-traditional"></div>
          </details>
          <details>
            <summary>Digital Art & Logos</summary>
            <div class="card-grid" id="art-digital"></div>
          </details>
        </div>
      </section>
    </main>
    <footer
      style="
        text-align: center;
        padding: 1rem 0;
        font-size: 0.75rem;
        color: #707070;
        letter-spacing: 0.5px;
        text-transform: uppercase;
      "
    >
      ¬© <script>document.write(new Date().getFullYear());</script> Kody Gentry ¬∑ Chum Studios
    </footer>

    <!-- Modal for WIP Project Details -->
    <div id="wip-modal" class="modal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeWIPModal()">&times;</button>
        <h2 class="modal-title" id="modal-title"></h2>
        <div class="modal-timeframe" id="modal-timeframe"></div>
        <p class="modal-description" id="modal-description"></p>
        
        <div class="carousel">
          <div class="carousel-container">
            <div class="carousel-track" id="carousel-track"></div>
          </div>
          <div class="carousel-controls">
            <button class="carousel-btn" onclick="prevSlide()">‚Üê Previous</button>
            <button class="carousel-btn" onclick="nextSlide()">Next ‚Üí</button>
          </div>
          <div class="carousel-indicators" id="carousel-indicators"></div>
        </div>
      </div>
    </div>

    <script>
      // Copy email to clipboard
      function copyEmail(event) {
        event.preventDefault();
        const email = 'kodygentry3737@gmail.com';
        navigator.clipboard.writeText(email).then(() => {
          const btn = document.getElementById('emailBtn');
          const originalText = btn.textContent;
          btn.textContent = 'Copied!';
          setTimeout(() => {
            btn.textContent = originalText;
          }, 2000);
        });
      }

      // Tab switching logic with smooth animations
      document.querySelectorAll('.tabs button').forEach((btn) => {
        btn.addEventListener('click', () => {
          // Update button states
          document.querySelectorAll('.tabs button').forEach((b) => {
            b.classList.remove('active');
            b.setAttribute('aria-selected', 'false');
          });
          btn.classList.add('active');
          btn.setAttribute('aria-selected', 'true');

          // Fade out current content
          const activeContent = document.querySelector('.tab-content.active');
          if (activeContent) {
            activeContent.classList.add('fade-out');
            activeContent.addEventListener(
              'animationend',
              function handler() {
                activeContent.classList.remove('active', 'fade-out');
                activeContent.removeEventListener('animationend', handler);

                // Fade in new content
                const contentId = btn.id.replace('tab', 'content');
                const newContent = document.getElementById(contentId);
                newContent.classList.add('active');
              },
              { once: true }
            );
          } else {
            // If no active content, just show new one
            const contentId = btn.id.replace('tab', 'content');
            document.getElementById(contentId).classList.add('active');
          }
        });
      });

      // Categorization helpers matching the React code logic
      const SIDE_OVERRIDE = new Set([
        'SimpleAPI',
        'Marvel-Rivals-Discord-Stat-Bot',
        'KimoTune',
        'Advent-Of-Code-2023'
      ]);
      const GAME_OVERRIDE = new Set(['DevQuest', 'godot-dot-shader']);
      const SCHOOL_HINTS = [
        'assembly',
        'mips',
        'x86',
        'arm',
        'object oriented',
        'oop',
        'data structures',
        'algorithms',
        'cs',
        'class',
        'assignment',
        'lab',
        'university',
        'college',
        'school',
        'project',
        'semester',
        'spring',
        'fall'
      ];
      const SCHOOL_LANGS = ['C', 'C++', 'Assembly', 'Makefile'];
      function categorizeRepo(r) {
        if (GAME_OVERRIDE.has(r.name)) return 'game';
        if (SIDE_OVERRIDE.has(r.name)) return 'side';
        const name = (r.name || '').toLowerCase();
        const desc = (r.description || '').toLowerCase();
        const lang = r.language || '';
        const hasHint = SCHOOL_HINTS.some((k) => name.includes(k) || desc.includes(k));
        const langHint = SCHOOL_LANGS.includes(lang);
        return hasHint || langHint ? 'school' : 'side';
      }
      async function loadGithubRepos() {
        try {
          const res = await fetch(
            'https://api.github.com/users/kodygentry/repos?per_page=100'
          );
          if (!res.ok) throw new Error('GitHub ' + res.status);
          const data = await res.json();
          const filtered = data.filter((r) => !r.fork);
          const sorted = filtered
            .sort((a, b) => (b.stargazers_count || 0) - (a.stargazers_count || 0))
            .slice(0, 60);
          const categorized = { side: [], school: [], game: [] };
          sorted.forEach((r) => {
            const type = categorizeRepo(r);
            categorized[type].push(r);
          });
          renderRepos('side-projects', categorized.side);
          renderRepos('school-projects', categorized.school);
          renderRepos('game-projects', categorized.game);
        } catch (err) {
          document.getElementById('side-projects').innerHTML =
            '<p>Error loading repos: ' + err.message + '</p>';
        }
      }
      function renderRepos(id, repos) {
        const container = document.getElementById(id);
        container.innerHTML = '';
        if (!repos || repos.length === 0) {
          container.innerHTML =
            '<p class="text-sm text-slate-400">No projects found.</p>';
          return;
        }
        // Highlighted repos for side and school
        const highlightSide = ['KimoTune', 'SimpleAPI', 'Marvel-Rivals-Discord-Stat-Bot'];
        const highlightSchool = [
          'Tic-Tac-Toe-AI',
          'Cardiovascular-Disease-Diagnosis-Expert-System',
          'General-CPP-Programs'
        ];
        let highlightList = [];
        if (id === 'side-projects') highlightList = highlightSide;
        if (id === 'school-projects') highlightList = highlightSchool;
        // Sort so highlights are first, in the order specified
        let sorted = repos.slice();
        if (highlightList.length) {
          const highlights = highlightList
            .map((name) => sorted.find((r) => r.name === name))
            .filter(Boolean);
          const rest = sorted.filter((r) => !highlightList.includes(r.name));
          sorted = [...highlights, ...rest];
        }
        sorted.forEach((r, i) => {
          const isHighlight = highlightList.includes(r.name) && i < 3;
          const div = document.createElement('div');
          div.className = 'project-card' + (isHighlight ? ' project-card-highlight' : '');
          div.innerHTML = `
            <h3>${r.name}</h3>
            <p>${r.description ? r.description : 'No description provided.'}</p>
            <div class="project-meta">
              <span>‚≠ê ${r.stargazers_count || 0}</span>
              <span>üç¥ ${r.forks_count || 0}</span>
              <a href="${r.html_url}" target="_blank" rel="noopener">View on GitHub</a>
            </div>
          `;
          container.appendChild(div);
        });
      }
      async function loadItchGames() {
        // Fallback SVG for controller icon (set before use)
        if (!window.fallbackControllerSVG) {
          window.fallbackControllerSVG = `
            <div style="
              width: 100%;
              height: 120px;
              display: flex;
              align-items: center;
              justify-content: center;
              background: rgba(74, 90, 127, 0.12);
              border-radius: 0.5rem;
              margin-bottom: 0.5rem;
            ">
              <i class='fa-solid fa-gamepad' style="font-size:3rem;color:#a8bce0;"></i>
            </div>`;
        }
        const games = [
          {
            url: 'https://chumstudios.itch.io/midnight-slice-demo',
            title: 'Midnight Slice Demo',
            description: 'You are working the night shift at the pizza shop but things are ... off. Can you survive until your boss comes back from vacation?',
            coverUrl: 'https://img.itch.zone/aW1nLzE4NjI2Mzk4LmdpZg==/original/qGkdkc.gif'
          },
          {
            url: 'https://chumstudios.itch.io/eternal-burn',
            title: 'Eternal Burn',
            description: 'A fast-paced endless runner with a fiery twist.',
            coverUrl: 'https://img.itch.zone/aW1nLzE3Mjg0NDA4LmdpZg==/original/8Uw%2Fwu.gif'
          }
        ];
        const container = document.getElementById('game-cards');
        container.innerHTML = '';
        for (const game of games) {
          const div = document.createElement('div');
          div.className = 'game-card';
          
          let imgHtml = '';
          if (game.coverUrl) {
            imgHtml = `
              <img
                src="${game.coverUrl}"
                alt="${game.title} cover"
                style="
                  width: 100%;
                  height: 120px;
                  object-fit: cover;
                  border-radius: 0.5rem;
                  margin-bottom: 0.5rem;
                "
                onerror="this.onerror=null;this.outerHTML=window.fallbackControllerSVG;"
              />`;
          } else {
            imgHtml = window.fallbackControllerSVG;
          }
          
          div.innerHTML = `
            ${imgHtml}
            <h3>${game.title}</h3>
            <p>${game.description}</p>
            <a
              href="${game.url}"
              target="_blank"
              rel="noopener"
              style="color:#38bdf8;text-decoration:underline;font-size:0.85rem;"
            >
              Play on itch.io
            </a>
          `;
          container.appendChild(div);
        }
        // Fallback SVG for controller icon
        if (!window.fallbackControllerSVG) {
          window.fallbackControllerSVG = `
            <svg
              width="100%"
              height="120"
              viewBox="0 0 24 24"
              fill="none"
              stroke="#38bdf8"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="
                display:block;
                margin:0 auto 0.5rem auto;
                background:rgba(59,130,246,0.08);
                border-radius:0.5rem;
              "
            >
              <rect x="2" y="7" width="20" height="10" rx="5" />
              <circle cx="7" cy="12" r="1.5" />
              <circle cx="17" cy="12" r="1.5" />
              <path d="M7 12h-2m1-1v2" />
            </svg>`;
        }
      }

      // WIP Projects Data
      const wipProjects = [
        {
          id: 'project0',
          title: 'KOMA',
          timeframe: '2025 - In Progress',
          description: 'Godot - 3D orthagonal platform puzzler with unique dot-dither effects. Players navigate through levels by manipulating perspective and solving spatial puzzles using a combination of platforming skills and environmental interactions.',
          media: [
            'static/assets/wip/project0/intro.gif',
            'static/assets/wip/project0/shader.gif',
            'static/assets/wip/project0/level.png',
            'static/assets/wip/project0/gameplay.gif',
            'https://youtu.be/Uou0grxS5SY?si=p4qGNQJ0-BFm_jan'
          ]
        },
        {
          id: 'project1',
          title: 'Handgun',
          timeframe: '2025 - Abandoned',
          description: 'Unreal Engine 5 - FPS shooter with real hands and appendage based enemies. Players navigate through levels using realistic hand movements to shoot, grab, and interact with the environment. Featured physics-based puzzles and combat.',
          media: [
            'static/assets/wip/project1/pic0.png',
            'static/assets/wip/project1/pic1.png',
            'static/assets/wip/project1/pic2.png',
            'static/assets/wip/project1/gameplay.gif'
          ]
        },
        {
          id: 'project2',
          title: 'Threadblade',
          timeframe: '2024 - Abandoned',
          description: 'Unity - 2D pixel-platformer with thread-based attack mechanics. Players control a character who can shoot and manipulate threads to swing, bind enemies, and solve environmental puzzles.',
          media: [
            'static/assets/wip/project2/gameplay1.gif',
            'static/assets/wip/project2/pic0.png',
            'static/assets/wip/project2/gameplay.gif',
            'static/assets/wip/project2/pic1.png'
          ]
        },
        {
          id: 'project3',
          title: 'Room 444',
          timeframe: '2024 - Abandoned',
          description: 'Unreal Engine 5 - 3D realistic puzzle game set in a strange, bare, sterile labrinth. Players must solve environmental puzzles using unique mechanics involving light, shadow, and perspective to escape each room and uncover the story behind Room 444.',
          media: [
            'static/assets/wip/project3/pic0.png',
            'static/assets/wip/project3/pic1.png',
            'static/assets/wip/project3/gif0.gif',
            'static/assets/wip/project3/gif1.gif',
            'static/assets/wip/project3/gif2.gif',
            'static/assets/wip/project3/gif3.gif',
            'static/assets/wip/project3/pic.png'
          ]
        },
        {
          id: 'project4',
          title: 'Pixel Rift',
          timeframe: '2024 - Abandoned',
          description: 'Unity - 2D sci-fi rogue-like where players explore procedurally generated space stations. Features pixel art graphics, permadeath, and a variety of weapons and upgrades to survive alien threats.',
          media: [
            'static/assets/wip/project4/gif0.gif',
            'static/assets/wip/project4/pic1.png',
            'static/assets/wip/project4/gif1.gif',
            'static/assets/wip/project4/gif2.gif'
          ]
        },
        {
          id: 'project5',
          title: 'Egg Battles',
          timeframe: '2023 - Abandoned',
          description: 'Unity - 3D FPS battle with egg enemies that crack and splatter when shot. Players compete in fast-paced matches using a variety of egg-themed weapons and power-ups.',
          media: [
            'static/assets/wip/project5/gif0.gif',
            'static/assets/wip/project5/pic.png',
            'static/assets/wip/project5/gif1.gif',
            'static/assets/wip/project5/gif2.gif'
          ]
        }
      ];

      function loadWIPProjects() {
        const container = document.getElementById('wip-cards');
        container.innerHTML = '';
        
        wipProjects.forEach(project => {
          const card = document.createElement('div');
          card.className = 'game-card wip-card';
          card.onclick = () => openWIPModal(project);
          
          const statusBadge = project.timeframe.includes('Progress') 
            ? '<span style="color: #38bdf8;">üî® WIP</span>' 
            : '<span style="color: #ff6b6b;">‚ö†Ô∏è Abandoned</span>';
          
          card.innerHTML = `
            <h3>${project.title}</h3>
            <p style="font-size: 0.8rem; color: #a855f7; margin-bottom: 0.5rem;">${project.timeframe}</p>
            <p>${project.description.substring(0, 100)}...</p>
            ${statusBadge}
          `;
          
          container.appendChild(card);
        });
      }

      let currentSlide = 0;
      let currentProject = null;

      function openWIPModal(project) {
        currentProject = project;
        currentSlide = 0;
        
        document.getElementById('modal-title').textContent = project.title;
        document.getElementById('modal-timeframe').textContent = project.timeframe;
        document.getElementById('modal-description').textContent = project.description;
        
        // Setup carousel
        const track = document.getElementById('carousel-track');
        track.innerHTML = '';
        
        project.media.forEach((mediaUrl, index) => {
          const slide = document.createElement('div');
          slide.className = 'carousel-slide';
          
          // Check if URL is a YouTube link
          if (mediaUrl.includes('youtube.com') || mediaUrl.includes('youtu.be')) {
            // Create clickable YouTube preview
            const youtubeLink = document.createElement('div');
            youtubeLink.style.cssText = `
              width: 100%;
              height: 450px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              background: linear-gradient(135deg, #1a1f2e 0%, #2a3347 100%);
              border-radius: 0.5rem;
              cursor: pointer;
              transition: all 0.3s;
              gap: 1rem;
              border: 2px solid #4a5a7f;
            `;
            
            youtubeLink.innerHTML = `
              <div style="font-size: 4rem; color: #ff0000;">‚ñ∂Ô∏è</div>
              <div style="font-size: 1.5rem; color: #38bdf8; font-weight: 600;">Watch on YouTube</div>
              <div style="font-size: 0.9rem; color: #a855f7;">Click to open video</div>
            `;
            
            youtubeLink.addEventListener('mouseenter', () => {
              youtubeLink.style.background = 'linear-gradient(135deg, #2a3347 0%, #3a4357 100%)';
              youtubeLink.style.transform = 'scale(1.02)';
            });
            
            youtubeLink.addEventListener('mouseleave', () => {
              youtubeLink.style.background = 'linear-gradient(135deg, #1a1f2e 0%, #2a3347 100%)';
              youtubeLink.style.transform = 'scale(1)';
            });
            
            youtubeLink.addEventListener('click', () => {
              window.open(mediaUrl, '_blank');
            });
            
            slide.appendChild(youtubeLink);
          } else {
            // Regular image
            const img = document.createElement('img');
            img.src = mediaUrl;
            img.alt = `${project.title} media ${index + 1}`;
            img.onerror = function() {
              this.style.display = 'none';
              const placeholder = document.createElement('div');
              placeholder.style.cssText = `
                width: 100%;
                height: 400px;
                display: flex;
                align-items: center;
                justify-content: center;
                background: rgba(26, 31, 46, 0.8);
                color: #888;
                font-size: 1.2rem;
                flex-direction: column;
                gap: 1rem;
              `;
              placeholder.innerHTML = `
                <div style="font-size: 3rem;">üñºÔ∏è</div>
                <div>Image not found</div>
                <div style="font-size: 0.9rem; color: #666;">${mediaUrl.split('/').pop()}</div>
              `;
              this.parentElement.appendChild(placeholder);
            };
            slide.appendChild(img);
          }
          
          track.appendChild(slide);
        });
        
        // Setup indicators
        const indicators = document.getElementById('carousel-indicators');
        indicators.innerHTML = '';
        project.media.forEach((_, index) => {
          const dot = document.createElement('div');
          dot.className = 'carousel-dot' + (index === 0 ? ' active' : '');
          dot.onclick = () => goToSlide(index);
          indicators.appendChild(dot);
        });
        
        document.getElementById('wip-modal').classList.add('active');
      }

      function closeWIPModal() {
        document.getElementById('wip-modal').classList.remove('active');
      }

      function nextSlide() {
        if (currentProject && currentSlide < currentProject.media.length - 1) {
          currentSlide++;
          updateCarousel();
        }
      }

      function prevSlide() {
        if (currentSlide > 0) {
          currentSlide--;
          updateCarousel();
        }
      }

      function goToSlide(index) {
        currentSlide = index;
        updateCarousel();
      }

      function updateCarousel() {
        const track = document.getElementById('carousel-track');
        track.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        // Update indicators
        document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
          dot.classList.toggle('active', index === currentSlide);
        });
      }

      // Close modal on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeWIPModal();
      });

      // Close modal on background click
      document.getElementById('wip-modal').addEventListener('click', (e) => {
        if (e.target.id === 'wip-modal') closeWIPModal();
      });

      // Art Gallery Data
      const artData = {
        models3D: [
          {
            title: 'Archie Plushie',
            description: 'Cat doll with soft fabric textures',
            type: 'sketchfab',
            sketchfabId: '5f919fd8bdd7434a8b1c36b826b0fbc3',
            image: 'static/assets/art/3d/cat-plushie-preview.png'
          },
          {
            title: 'Monch',
            description: 'Monch with hair textures',
            type: 'sketchfab',
            sketchfabId: '47d44495899a46a08e09f9019bf816d8',
            image: 'static/assets/art/3d/cat-plushie-preview.png'
          },
          {
            title: 'Cat Castle',
            description: 'Low poly castle with cats',
            type: 'sketchfab',
            sketchfabId: '2ca6e6aa7bad4025a6343187cee3ae57',
            image: 'static/assets/art/3d/cat.png'
          },
          {
            title: 'Handgun',
            description: 'Gun made with hands ',
            type: 'sketchfab',
            sketchfabId: '8553179724404307b02b7e24e384f78e',
            image: 'static/assets/art/3d/cat-plushie-preview.png'
          }
        ],
        traditional: ['cat.jpg','juno.jpg', 'man.jpg', 'hxh.jpg'],
        digital: {
          videos: ['0.mp4', '1.mp4'],
          gifs: ['1.gif', '2.gif'],
          images: ['0.png', '1.png', '01.png', '2.png', '3.png', '4.png', '5.png', '6.png', '7.png']
        }
      };

      function loadArtGallery() {
        // Load 3D Models
        const models3DContainer = document.getElementById('art-3d-models');
        artData.models3D.forEach(item => {
          const card = document.createElement('div');
          card.className = 'game-card art-card no-glow';
          
          if (item.type === 'sketchfab' && item.sketchfabId) {
            card.innerHTML = `
              <iframe 
                class="sketchfab-embed" 
                src="https://sketchfab.com/models/${item.sketchfabId}/embed?autostart=0&ui_theme=dark" 
                allow="autoplay; fullscreen; xr-spatial-tracking"
              ></iframe>
              <div class="art-card-content">
                <div class="art-card-title">${item.title}</div>
                <div class="art-card-description">${item.description}</div>
                <a href="https://sketchfab.com/3d-models/${item.sketchfabId}" target="_blank" style="color: #38bdf8; font-size: 0.85rem; text-decoration: underline; margin-top: 0.5rem; display: inline-block;">View on Sketchfab</a>
              </div>
            `;
            card.style.cursor = 'default';
          } else {
            card.innerHTML = `
              <img src="${item.image}" alt="${item.title}" class="art-card-image" onerror="this.src='https://placehold.co/600x400/1a1f2e/38bdf8?text=${encodeURIComponent(item.title)}'">
              <div class="art-card-content">
                <div class="art-card-title">${item.title}</div>
                <div class="art-card-description">${item.description}</div>
              </div>
            `;
          }
          
          models3DContainer.appendChild(card);
        });

        // Load Traditional Art
        loadTraditionalArt();

        // Load Digital Art
        loadDigitalArt();
      }

      function loadTraditionalArt() {
        const traditionalContainer = document.getElementById('art-traditional');
        const folderPath = 'static/assets/art/traditional/';
        const files = artData.traditional;
        
        if (!files || files.length === 0) return;
        
        const galleryGrid = document.createElement('div');
        galleryGrid.style.cssText = 'display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 0.5rem;';
        
        files.forEach(file => {
          const imgWrapper = document.createElement('div');
          imgWrapper.style.cssText = 'position: relative; width: 100%; background: #0f1419; border-radius: 8px; overflow: hidden; cursor: pointer; transition: transform 0.2s; border: 2px solid #4a5a7f; aspect-ratio: 1;';
          
          const img = document.createElement('img');
          img.src = folderPath + file;
          img.style.cssText = 'width: 100%; height: 100%; object-fit: cover;';
          img.alt = file;
          
          imgWrapper.appendChild(img);
          imgWrapper.onmouseenter = () => imgWrapper.style.transform = 'scale(1.02)';
          imgWrapper.onmouseleave = () => imgWrapper.style.transform = 'scale(1)';
          imgWrapper.onclick = () => zoomImage(folderPath + file);
          
          galleryGrid.appendChild(imgWrapper);
        });
        
        traditionalContainer.appendChild(galleryGrid);
      }

      function loadDigitalArt() {
        const digitalContainer = document.getElementById('art-digital');
        const folderPath = 'static/assets/art/digital/';
        const { videos, gifs, images } = artData.digital;
        
        // Combine all files into one array with type info
        const allFiles = [];
        if (videos) videos.forEach(file => allFiles.push({ file, type: 'video' }));
        if (gifs) gifs.forEach(file => allFiles.push({ file, type: 'gif' }));
        if (images) images.forEach(file => allFiles.push({ file, type: 'image' }));
        
        // Create single grid for all media
        const mediaGrid = document.createElement('div');
        mediaGrid.style.cssText = 'display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 0.5rem;';
        
        allFiles.forEach(({ file, type }) => {
          const wrapper = document.createElement('div');
          wrapper.style.cssText = 'position: relative; width: 100%; background: #0f1419; border-radius: 8px; overflow: hidden; cursor: pointer; transition: transform 0.2s; border: 2px solid #4a5a7f; aspect-ratio: 1;';
          
          if (type === 'video') {
            const video = document.createElement('video');
            video.style.cssText = 'width: 100%; height: 100%; object-fit: cover;';
            video.loop = true;
            video.muted = true;
            video.autoplay = true;
            video.playsInline = true;
            video.preload = 'metadata';
            
            const source = document.createElement('source');
            source.src = folderPath + file;
            source.type = 'video/mp4';
            video.appendChild(source);
            
            wrapper.appendChild(video);
            wrapper.onclick = () => zoomImage(folderPath + file, true);
          } else {
            const img = document.createElement('img');
            img.src = folderPath + file;
            img.style.cssText = 'width: 100%; height: 100%; object-fit: cover;';
            img.alt = file;
            
            wrapper.appendChild(img);
            wrapper.onclick = () => zoomImage(folderPath + file);
          }
          
          wrapper.onmouseenter = () => wrapper.style.transform = 'scale(1.02)';
          wrapper.onmouseleave = () => wrapper.style.transform = 'scale(1)';
          
          mediaGrid.appendChild(wrapper);
        });
        
        digitalContainer.appendChild(mediaGrid);
      }

      // Zoom image modal
      function zoomImage(src, isVideo = false) {
        const modal = document.createElement('div');
        modal.className = 'image-zoom-modal active';
        
        if (isVideo) {
          const video = document.createElement('video');
          video.src = src;
          video.controls = true;
          video.autoplay = true;
          video.style.cssText = 'max-width: 95%; max-height: 95%; object-fit: contain; border-radius: 0.5rem;';
          modal.appendChild(video);
        } else {
          const img = document.createElement('img');
          img.src = src;
          modal.appendChild(img);
        }
        
        modal.onclick = () => {
          modal.classList.remove('active');
          setTimeout(() => modal.remove(), 200);
        };
        
        document.body.appendChild(modal);
        
        // ESC key to close
        const escHandler = (e) => {
          if (e.key === 'Escape') {
            modal.classList.remove('active');
            setTimeout(() => modal.remove(), 200);
            document.removeEventListener('keydown', escHandler);
          }
        };
        document.addEventListener('keydown', escHandler);
      }

      // Initiate data fetches on page load
      loadGithubRepos();
      loadItchGames();
      loadWIPProjects();
      loadArtGallery();
    </script>
    <script>
  // Animate cards as they enter the viewport
  function animateCardsOnScroll() {
    const observer = new window.IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('card-pop-in');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15 }
    );

    document.querySelectorAll('.project-card, .game-card').forEach((card) => {
      observer.observe(card);
    });
  }

  // Re-run after dynamic content loads, but only patch once
  if (!window._cardPopInPatched) {
    window._cardPopInPatched = true;

    const origRenderRepos = window.renderRepos;
    window.renderRepos = function (id, repos) {
      origRenderRepos(id, repos);
      setTimeout(animateCardsOnScroll, 0);
    };

    const origLoadItchGames = window.loadItchGames;
    window.loadItchGames = async function () {
      await origLoadItchGames();
      setTimeout(animateCardsOnScroll, 0);
    };
  }

  // Initial call for cards already in DOM + welcome screen fade out
  window.addEventListener('DOMContentLoaded', () => {
    animateCardsOnScroll();

    // Make loading bar match text width
    const text = document.querySelector('.welcome-text');
    const bar = document.querySelector('.welcome-bar');
    if (text && bar) {
      const width = text.getBoundingClientRect().width;
      bar.style.width = width + 'px';
      bar.style.margin = '0 auto';
    }

    const welcome = document.getElementById('welcome-screen');
    const hasVisited = sessionStorage.getItem('hasVisited');
    
    if (welcome) {
      if (hasVisited) {
        // Skip welcome screen on return visits
        welcome.style.display = 'none';
        document.body.classList.remove('no-scroll');
      } else {
        // Show welcome screen on first visit
        sessionStorage.setItem('hasVisited', 'true');
        setTimeout(() => {
          // smooth fade-out
          welcome.classList.add('welcome-out');
          // re-enable scroll after fade starts
          setTimeout(() => {
            document.body.classList.remove('no-scroll');
          }, 300);
          // remove overlay after animation completes
          setTimeout(() => {
            if (welcome && welcome.parentNode) {
              welcome.parentNode.removeChild(welcome);
            }
          }, 700); // match CSS transition
        }, 3200); // wait for loading bar to complete
      }
    } else {
      document.body.classList.remove('no-scroll');
    }
  });
</script>

